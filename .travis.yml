language: python
python:
  - "2.7"

os:
  - linux
  - osx

install: pip install -r requirements.txt
script: coverage run --include=tasks/* test/run

after_success:
  - coverage report
  - coveralls
  - pip install pep8 pyflakes
  - pep8 tasks/*.py     | tee >(wc -l)
  - pyflakes tasks/*.py | tee >(wc -l)
  - pep8 test/*.py      | tee >(wc -l)
  - pyflakes test/*.py  | tee >(wc -l)

notifications:
  email:
    recipients:
      - eric@sunlightfoundation.com
      - tauberer@govtrack.us
      - dwillis@gmail.com
    on_success: change
    on_failure: change
